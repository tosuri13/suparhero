(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5170:function(e,t,a){Promise.resolve().then(a.bind(a,270))},270:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return $}});var i=a(7437),n=a(5127),s=a(2265),r=a(1388),l=a(1419);let c=()=>(0,i.jsxs)(l.E.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"flex h-full w-full flex-col items-center justify-center gap-[4px] bg-background-secondary",children:[(0,i.jsx)("img",{className:"h-16 w-16 animate-spin-loading",alt:"星の画像",src:"/loading/star.png"}),(0,i.jsx)("img",{className:"h-[54px] w-[327px]",alt:"Waiting for HERO...",src:"/loading/waiting-for-hero.png"})]});var o=a(9805),u=a(6164);let x=e=>{switch(e){case"HAPPY":return"/renkyun/happy.png";case"SAD":return"/renkyun/sad.png";case"NEUTRAL":return"/renkyun/neutral.png"}},m=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:n=0,exitAnimationDelay:c=0,...m}=e,{beat:p,phrase:d,emotion:y}=(0,s.useContext)(r.M),f=(0,o.E)();return(0,s.useEffect)(()=>{p&&f.start({y:[8,0]},{duration:p.duration/5e3,ease:"easeOut"})},[p]),(0,i.jsx)(l.E.div,{initial:a?{}:{opacity:0,x:24},animate:a?{}:{opacity:1,x:0,transition:{delay:n}},exit:a?{}:{opacity:0,x:24,transition:{delay:c}},transition:{duration:.2},className:(0,u.m6)("",t),...m,children:(0,i.jsx)(l.E.div,{animate:f,className:"h-full w-full",children:(0,i.jsx)("img",{alt:"レンきゅんが歌っている画像",src:d?x(y):"/renkyun/not-singing.png"})})})};var p=a(932),d=a(3191),y=a(5524);let f=()=>(0,p.a)({queryKey:["judges"],initialData:[],enabled:!1}),g=()=>{let e=(0,d.NL)();return(0,y.D)({mutationFn:async()=>{await e.setQueryData(["judges"],[])}})},h=()=>{let e=(0,d.NL)();return(0,y.D)({mutationFn:async t=>{await e.setQueryData(["judges"],e=>[...e,t])}})},A=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:n=0,exitAnimationDelay:c=0,...x}=e,[m,p]=(0,s.useState)("/rinchan/default.png"),{beat:d}=(0,s.useContext)(r.M),{data:y}=f(),g=(0,o.E)();return(0,s.useEffect)(()=>{0!==y.length&&d&&g.start({y:[8,0]},{duration:d.duration/5e3,ease:"easeOut"})},[y]),(0,s.useEffect)(()=>{if(0===y.length){p("/rinchan/default.png");return}p(y[y.length-1].every(e=>!e)?"/rinchan/good.png":"/rinchan/bad.png");let e=setTimeout(()=>{p("/rinchan/default.png")},600);return()=>clearTimeout(e)},[y]),(0,i.jsx)(l.E.div,{initial:a?{}:{opacity:0,x:-24},animate:a?{}:{opacity:1,x:0,transition:{delay:n}},exit:a?{}:{opacity:0,x:-24,transition:{delay:c}},transition:{duration:.2},className:(0,u.m6)("",t),...x,children:(0,i.jsx)(l.E.div,{animate:g,className:"h-full w-full",children:(0,i.jsx)("img",{alt:"歌を聞いてくれるリンちゃんの画像",src:m})})})},j=e=>{switch(e){case"HOWTOPLAY":return{alt:"チュートリアルバナー",src:"/supar-banner/how-to-play.png"};case"PAUSE":return{alt:"ポーズバナー",src:"/supar-banner/pause.png"};case"RESULT":return{alt:"リザルトバナー",src:"/supar-banner/result.png"}}},E=e=>{let{variant:t,className:a="",animationDisable:n=!1,enterAnimationDelay:s=0,exitAnimationDelay:r=0,...c}=e,{alt:o,src:x}=j(t);return(0,i.jsx)(l.E.div,{initial:n?{}:{opacity:0,x:24},animate:n?{}:{opacity:1,x:0,transition:{delay:s}},exit:n?{}:{opacity:0,x:-24,transition:{delay:r}},transition:{duration:.2},className:(0,u.m6)("h-[115px] w-[380px]",a),...c,children:(0,i.jsx)("img",{alt:o,src:x})})},N=e=>{switch(e){case"START":return{alt:"スタートボタン",src:"/supar-button/start.png"};case"HOWTOPLAY":return{alt:"チュートリアルボタン",src:"/supar-button/how-to-play.png"};case"BACKTOTITLE":return{alt:"タイトルに戻るボタン",src:"/supar-button/back-to-title.png"};case"RESTART":return{alt:"リスタートボタン",src:"/supar-button/restart.png"}}},P=e=>{let{variant:t,className:a="",animationDisable:n=!1,enterAnimationDelay:s=0,exitAnimationDelay:r=0,...c}=e,{alt:o,src:x}=N(t);return(0,i.jsx)(l.E.button,{initial:n?{}:{opacity:0,x:24},animate:n?{}:{opacity:1,x:0,transition:{delay:s}},exit:n?{}:{opacity:0,x:-24,transition:{delay:r}},transition:{duration:.2},className:(0,u.m6)("h-[66px] w-[250px] cursor-pointer",a),...c,children:(0,i.jsx)("img",{alt:o,src:x})})},v=()=>(0,p.a)({queryKey:["screen"],initialData:"TITLE",enabled:!1}),T=()=>{let e=(0,d.NL)();return(0,y.D)({mutationFn:async t=>{await e.setQueryData(["screen"],t)}})},b=e=>{let{className:t=""}=e,{player:a,setIsPlay:n}=(0,s.useContext)(r.M),{mutate:l}=T();return(0,i.jsx)("div",{className:(0,u.m6)("flex h-full w-full flex-col items-center justify-center bg-background-pause",t),children:(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center gap-[80px]",children:[(0,i.jsx)(E,{variant:"PAUSE",animationDisable:!0}),(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center gap-[24px]",children:[(0,i.jsx)(P,{variant:"RESTART",onClick:()=>{a&&n&&(n(!0),a.requestPlay())},animationDisable:!0}),(0,i.jsx)(P,{variant:"BACKTOTITLE",onClick:()=>{a&&(a.requestStop(),a.requestMediaSeek(0),l("TITLE"))},animationDisable:!0})]})]})})},w=e=>{switch(e){case"GOOD":return{alt:"良いエフェクト",src:"/supar-effect/good.png"};case"BAD":return{alt:"悪いエフェクト",src:"/supar-effect/bad.png"}}},R=e=>{let{variant:t,className:a="",...n}=e,{alt:r,src:c}=w(t),x=(0,o.E)();return(0,s.useEffect)(()=>{x.start({opacity:[1,0],scale:[.9,1.2],transition:{ease:"easeOut",duration:.4,times:[0,1]}})},[]),(0,i.jsx)(l.E.div,{animate:x,className:(0,u.m6)("w-[80px] min-w-[80px]",a),...n,children:(0,i.jsx)("img",{alt:r,src:c})})},L={can:["wanna","gonna","kan"],SUPERHERO:["SUPARHERO","SUPERHELO","SUPARHELO"],時:["刻","時間"],飛ん:["飛","跳ん","翔ん"],行く:["行","赴く","往く"],涙:["泣","泪","嗚咽"],似合わ:["相応わ","位合わ","似合","釣合わ"],alright:["arlight","alrihgt","allright"],365:["364","366","345","356"],days:["dayz","deys","day","dey"],24:["23","25","42"],name:["neme","nema","nane"],歌っ:["詩っ","唄っ","吟っ"],踊っ:["躍っ","踏っ","舞っ"],肩:["型","肘","堅"],long:["rong","wrong","loung","lang"],愛:["恋","愛情","哀"],希望:["願望","祈望","望み","欲望"],思う:["思もう","想う","懐う","思起う"],分かる:["分る","解る","判る","和歌る"],守り:["護り","守もり","庇い","守護り"],未来:["将来","末来","未頼"],信じ:["信んじ","震じ","信頼し"],嘘:["虚","虚偽","偽"],Trust:["Trast","Tlust","Traste","Trost"],Gimme:["Gime","Gimmi","Gemmi","Gemme"],Really:["Realy","Raelly","Realry","Rearly"],alone:["arone","aloun","aroun","aloned"],笑顔:["頬笑","微笑"],Call:["Coll","Cale","Cole"],聞こ:["聴こ","効こ","訊こ"],雑音:["難音","騒音","喧騒"],Break:["Bleak","Braek","Blaek"],邪魔:["妨害","阻害","邪馬"],奴ら:["双ら","奴つら","彼奴ら","連中ら"],Bring:["Bling","Brine","Brin"],Hang:["Hong","Hung","Haung"],Freak:["Fleak","Fraek","Fleek","Freek"],Wanna:["Wonna","Wanaa","Wnnaa"],Gonna:["Ganna","Gonaa","Gnnoa"],辛い:["辛らい","幸い","痛い"],痛い:["苦しい","痛たい","辛い"],預け:["預ずけ","託して","任せ"],mate:["mete","mata"],Right:["Rihgt","Reght","Rihgt"],言わ:["告げら","言","伝えら","岩"],未知:["末知","道","未曾有"],脅威:["驚異","脅異","恐怖"],逃げ出さ:["逃出さ","逃亡さ","投げ出さ"],立ち向かう:["太刀向かう","立向かう","立向う"],遠く:["遠おく","遥く","悠遠"],Say:["Sey","Seay","Saey"],聞こえる:["聞える","聴こえる","訊こえる"],雲:["霞","曇","霧"],Fly:["Fry","Flay","Fray"],七色:["虹色","極彩"],Beautiful:["Baeutiful","Beauteful","Beauntiful","Beautifull","Beautyful"]},S=(e,t)=>{if(!e.isFalse||t)return e.body;{let t=L[e.body],a=Math.floor(Math.random()*t.length);return t[a]}},D=e=>{let{suparLyric:t,judgeIndex:a,setJudge:n}=e,[r,l]=(0,s.useState)(!1);return(0,i.jsxs)("div",{className:"relative h-fit w-fit",children:[(0,i.jsx)("p",{className:"relative cursor-pointer text-[32px] ".concat(r?"text-text-clicked":"text-text-clickable"),onClick:()=>{r||(l(!0),n(e=>{let t=[...e];return t[a]=!t[a],t}))},children:S(t,r)}),r&&(0,i.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center",children:(0,i.jsx)(R,{variant:t.isFalse?"GOOD":"BAD"})})]})},k=e=>{let{suparLyric:t}=e;return(0,i.jsx)("p",{className:"text-[32px]",children:t.body})},U=e=>{let t=(0,s.useRef)(void 0);return(0,s.useEffect)(()=>{t.current=e},[e]),t.current},H=e=>{let t=[];for(let a of e.children){let e=!1;null===a.next||("ja"===a.language?"S"===a.pos?"!!"===a.text?e=!0:")"===a.text&&(e=!0):"S"!==a.pos&&"en"===a.next.language&&(e=!0):"en"!==a.language||("S"===a.next.pos?["’","”","!!",")"].includes(a.next.text)||(e=!0):"S"===a.next.pos||(e=!0)));let i=Object.keys(L).includes(a.text);t.push({body:a.text,isClickable:i,isFalse:!!i&&Math.random()>.5}),e&&t.push(void 0)}return t},Y=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:n=0,exitAnimationDelay:c=0,...x}=e,[m,p]=(0,s.useState)([]),{isPlay:d,phrase:y}=(0,s.useContext)(r.M),{mutate:f}=h(),g=U(y),A=(0,o.E)(),j=(0,s.useMemo)(()=>y?H(y):[],[y]);(0,s.useEffect)(()=>{p(j.filter(e=>!!(null==e?void 0:e.isClickable)).map(e=>e.isFalse))},[j]),(0,s.useEffect)(()=>{y&&A.start({opacity:[0,1,1,0],y:[4,0,0,4],transition:{ease:"linear",duration:y.duration/1e3-.1,times:[0,.02,.98,1]}}),g&&f(m)},[y]),(0,s.useEffect)(()=>{d||A.stop()},[d]);let E=(0,s.useMemo)(()=>{let e=0;return j.map((t,a)=>{if(!t)return(0,i.jsx)("span",{className:"inline-block w-2"},a);if(!t.isClickable)return(0,i.jsx)(k,{suparLyric:t},a);{let n=e;return e+=1,(0,i.jsx)(D,{suparLyric:t,judgeIndex:n,setJudge:p},a)}})},[j]);return(0,i.jsxs)(l.E.div,{initial:a?{}:{opacity:0,x:24},animate:a?{}:{opacity:1,x:0,transition:{delay:n}},exit:a?{}:{opacity:0,x:24,transition:{delay:c}},transition:{duration:.2},className:(0,u.m6)("relative h-[240px] min-h-[240px] w-full px-[32px] pb-[12px] pt-[58px]",t),...x,children:[(0,i.jsx)("img",{alt:"歌詞ボード",src:"/play/lyric-board.png",className:"absolute bottom-0 left-0 h-[240px]"}),(0,i.jsx)(l.E.div,{animate:A,className:"relative flex flex-row flex-wrap items-start",children:E})]})},C=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:n=0,exitAnimationDelay:c=0,...o}=e,{player:x,setIsPlay:m}=(0,s.useContext)(r.M);return(0,i.jsx)(l.E.button,{initial:a?{}:{opacity:0,y:-24},animate:a?{}:{opacity:1,y:0,transition:{delay:n}},exit:a?{}:{opacity:0,y:-24,transition:{delay:c}},transition:{duration:.2},className:(0,u.m6)("flex h-[56px] w-[56px] cursor-pointer items-center justify-center",t),onClick:()=>{x&&m&&(m(!1),x.requestPause())},...o,children:(0,i.jsx)("img",{alt:"ポーズボタン",src:"/play/pause-button.png"})})},O=e=>{let{className:t=""}=e,{data:a}=f(),n=(0,o.E)();return(0,s.useEffect)(()=>{0!==a.length&&n.start({opacity:[0,1,1,0],y:[16,0,0,16],transition:{ease:"linear",duration:.5,times:[0,.2,.9,1]}})},[a]),(0,i.jsx)(i.Fragment,{children:0!==a.length&&(0,i.jsx)(l.E.div,{animate:n,className:(0,u.m6)("h-[102px] w-[104px]",t),children:a[a.length-1].every(e=>!e)?(0,i.jsx)("img",{alt:"良い反応",src:"/supar-reaction/good.png"}):(0,i.jsx)("img",{alt:"悪い反応",src:"/supar-reaction/bad.png"})})})},B=()=>{let[e,t]=(0,s.useState)(!0),{player:a,isFinish:n,isPlay:l}=(0,s.useContext)(r.M),{mutate:c}=T();return(0,s.useEffect)(()=>{if(a){let e=setTimeout(()=>{t(!1),a.requestPlay()},1e3);return()=>clearTimeout(e)}},[a]),(0,s.useEffect)(()=>{a&&n&&c("RESULT")},[n]),(0,i.jsxs)("div",{className:"relative flex h-full w-full flex-col items-center justify-end",children:[!l&&!e&&(0,i.jsx)(b,{className:"absolute left-0 top-0 z-20"}),(0,i.jsx)(C,{className:"absolute right-3 top-3 z-10",animationDisable:!l,exitAnimationDelay:.3},"supar-pause-button"),(0,i.jsx)(O,{className:"absolute left-[24%] top-[12%] z-10"}),(0,i.jsx)(A,{className:"absolute -left-[14%] bottom-[20%] w-[64%]",animationDisable:!l,enterAnimationDelay:.2,exitAnimationDelay:.1},"rinchan-listening-image"),(0,i.jsx)(m,{className:"absolute -right-[12%] bottom-[20%] w-[64%]",animationDisable:!l,enterAnimationDelay:.3},"renkyun-singing-image"),(0,i.jsx)(Y,{animationDisable:!l,enterAnimationDelay:.1,exitAnimationDelay:.2},"supar-lyric-board")]})},M=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:n=0,exitAnimationDelay:s=0,...r}=e;return(0,i.jsx)(l.E.img,{initial:a?{}:{opacity:0,x:24},animate:a?{}:{opacity:1,x:0,transition:{delay:n}},exit:a?{}:{opacity:0,x:-24,transition:{delay:s}},transition:{duration:.2},className:(0,u.m6)("",t),alt:"レンきゅんが褒めてくれる画像",src:"/renkyun/happy.png",...r})},F=e=>{switch(e){case"C":return{alt:"もう一回!!",src:"/supar-comment/comment-c.png"};case"B":return{alt:"まだまだ!!",src:"/supar-comment/comment-b.png"};case"A":return{alt:"すごいっ!!",src:"/supar-comment/comment-a.png"};case"S":return{alt:"えらいっ!!",src:"/supar-comment/comment-s.png"}}},I=e=>{let{rank:t,className:a="",animationDisable:n=!1,enterAnimationDelay:s=0,exitAnimationDelay:r=0,...c}=e,{alt:o,src:x}=F(t);return(0,i.jsx)(l.E.div,{initial:n?{}:{opacity:0,scale:.5,y:40},animate:n?{}:{opacity:1,scale:1,y:0,transition:{delay:s}},exit:n?{}:{opacity:0,x:-24,transition:{delay:r}},transition:{duration:.2},className:(0,u.m6)("h-[150px] w-[200px]",a),...c,children:(0,i.jsx)("img",{alt:o,src:x})})},G=e=>{switch(e){case"C":return{alt:"ランクC",src:"/supar-rank/rank-c.png"};case"B":return{alt:"ランクB",src:"/supar-rank/rank-b.png"};case"A":return{alt:"ランクA",src:"/supar-rank/rank-a.png"};case"S":return{alt:"ランクS",src:"/supar-rank/rank-s.png"}}},q=e=>{let{rank:t,className:a="",animationDisable:n=!1,enterAnimationDelay:s=0,exitAnimationDelay:r=0,...c}=e,{alt:o,src:x}=G(t);return(0,i.jsx)(l.E.div,{initial:n?{}:{opacity:0,scale:1.5},animate:n?{}:{opacity:1,scale:1,transition:{delay:s}},exit:n?{}:{opacity:0,transition:{delay:r}},transition:{duration:.2},className:(0,u.m6)("h-[106px] w-[113px]",a),...c,children:(0,i.jsx)("img",{alt:o,src:x})})},W=e=>e<=50?"C":e<75?"B":e<90?"A":"S",K=e=>{let{accuracy:t,className:a="",animationDisable:s=!1,enterAnimationDelay:r=0,exitAnimationDelay:c=0,...o}=e;return(0,i.jsxs)(l.E.div,{initial:s?{}:{opacity:0,x:24},animate:s?{}:{opacity:1,x:0,transition:{delay:r}},exit:s?{}:{opacity:0,x:-24,transition:{delay:c}},transition:{duration:.2},className:(0,u.m6)("relative flex h-[171px] w-[326px] flex-row items-center",a),...o,children:[(0,i.jsx)("img",{className:"absolute",alt:"スコアボード",src:"/result/score-board.png"}),(0,i.jsxs)("div",{className:"relative flex h-full w-full flex-row justify-center",children:[(0,i.jsx)("p",{className:"absolute left-[38px] top-[68px] text-[32px]",children:"".concat(t,"%")}),(0,i.jsx)(n.M,{children:(0,i.jsx)(q,{rank:W(t),className:"absolute left-[188px] top-[54px]",enterAnimationDelay:r+.3})})]})]})},_=()=>{let{player:e,setIsPlay:t}=(0,s.useContext)(r.M),{data:a}=f(),{mutate:n}=T();(0,s.useEffect)(()=>{e&&t&&(e.requestStop(),t(!1))},[]);let l=(0,s.useMemo)(()=>{if(0===a.length)return 0;{let e=a.flat();return Math.round(e.filter(e=>!e).length/e.length*1e3)/10}},[a]);return(0,i.jsx)("div",{className:"relative flex h-full items-center justify-center overflow-hidden",children:(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center gap-[8px]",children:[(0,i.jsx)(E,{variant:"RESULT"}),(0,i.jsx)(K,{accuracy:l,enterAnimationDelay:.1,exitAnimationDelay:.1}),(0,i.jsx)(P,{className:"mt-[16px]",variant:"BACKTOTITLE",onClick:()=>{n("TITLE")},enterAnimationDelay:.2,exitAnimationDelay:.2}),(0,i.jsxs)("div",{className:"relative h-[280px] w-full",children:[(0,i.jsx)(I,{rank:W(l),className:"absolute left-[12px] top-[48px]",enterAnimationDelay:.8,exitAnimationDelay:.3}),(0,i.jsx)(M,{className:"absolute -right-[8%] top-0 w-[240px]",enterAnimationDelay:.3,exitAnimationDelay:.3})]})]})})},z=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:n=0,exitAnimationDelay:s=0,...r}=e;return(0,i.jsx)(l.E.img,{initial:a?{}:{opacity:0,scale:.5,y:80},animate:a?{}:{opacity:1,scale:1,y:0,transition:{delay:n}},exit:a?{}:{opacity:0,transition:{delay:s}},transition:{duration:.2},className:(0,u.m6)("max-w-full",t),alt:"SUPAEHEROのタイトルロゴ",src:"/title/suparhero-logo.png",...r})},Q=()=>{let{player:e,setBeat:t,setIsFinish:a,setIsPlay:n,setPhrase:l}=(0,s.useContext)(r.M),{mutate:c}=g(),{mutate:o}=T();return(0,i.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,i.jsxs)("div",{className:"flex flex-col items-center gap-[100px]",children:[(0,i.jsx)(z,{}),(0,i.jsxs)("div",{className:"flex flex-col items-center gap-[16px]",children:[(0,i.jsx)(P,{variant:"START",onClick:()=>{e&&t&&a&&n&&l&&(e.requestMediaSeek(0),t(void 0),l(void 0),a(!1),n(!0)),c(),o("PLAY")},enterAnimationDelay:.3,exitAnimationDelay:.1}),(0,i.jsx)(P,{variant:"HOWTOPLAY",onClick:()=>o("TUTORIAL"),enterAnimationDelay:.4,exitAnimationDelay:.2})]})]})})},J=[{src:"/tutorial/page-1.png",description:(0,i.jsxs)(i.Fragment,{children:["何の影響か突然「SUPERHEROになるんだ!!」と言い出したレンくん...",(0,i.jsx)("br",{}),"その決意をリンちゃんに聞いてもらおうとしているけれど、なんだか単語が間違っているみたい!!"]})},{src:"/tutorial/page-2.png",description:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"text-[14px] text-text-clickable",children:"赤色"}),"になっている単語が出てきたら、間違っていないかチェックしてあげよう!!",(0,i.jsx)("br",{}),"もし間違っていたら単語をタップして、リンちゃんに気づかれる前にこっそり直してあげよう!!"]})},{src:"/tutorial/page-3.png",description:(0,i.jsx)(i.Fragment,{children:"間違えていない単語をタップしちゃったり、間違えている単語をスルーしないように気をつけてね!!"})}],V=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:r=0,exitAnimationDelay:c=0,...o}=e,[x,m]=(0,s.useState)(0),[p,d]=(0,s.useState)(0);return(0,i.jsxs)(l.E.div,{initial:a?{}:{opacity:0,x:24},animate:a?{}:{opacity:1,x:0,transition:{delay:r}},exit:a?{}:{opacity:0,x:-48,transition:{delay:c}},transition:{duration:.2},className:(0,u.m6)("flex w-full flex-col items-center justify-center",t),...o,children:[(0,i.jsxs)("div",{className:"flex w-full flex-row items-center justify-center gap-[24px]",children:[0!==x?(0,i.jsx)("img",{className:"w-[48px] cursor-pointer",alt:"前のページへ",src:"/tutorial/left-arrow.png",onClick:()=>{d(-1),m(e=>e-1)}}):(0,i.jsx)("span",{className:"w-[48px]"}),(0,i.jsx)(n.M,{mode:"wait",children:(0,i.jsx)(l.E.div,{initial:{opacity:0,x:24*p},animate:{opacity:1,x:0},exit:{opacity:0,x:-(24*p)},transition:{duration:.1},className:"flex w-[212px] border-[4px] border-border-secondary bg-background-secondary p-[2px]",children:(0,i.jsx)("img",{alt:"チュートリアルの画像",src:J[x].src})},x)}),x!==J.length-1?(0,i.jsx)("img",{className:"w-[48px] cursor-pointer",alt:"次のページへ",src:"/tutorial/right-arrow.png",onClick:()=>{d(1),m(e=>e+1)}}):(0,i.jsx)("span",{className:"w-[48px]"})]}),(0,i.jsxs)("div",{className:"relative mb-[16px] mt-[8px] flex h-[112px] w-[368px] items-center justify-center",children:[(0,i.jsx)("img",{className:"absolute",alt:"説明ボード",src:"/tutorial/description-board.png"}),(0,i.jsx)(n.M,{mode:"wait",children:(0,i.jsx)(l.E.div,{initial:{opacity:0,x:8*p},animate:{opacity:1,x:0},exit:{opacity:0,x:-(8*p)},transition:{duration:.1},className:"relative flex h-full w-full items-start justify-start",children:(0,i.jsx)("p",{className:"mx-[20px] my-[14px] text-[14px] text-text-tertiary",children:J[x].description})},x)})]})]})},Z=()=>{let{mutate:e}=T();return(0,i.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,i.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center",children:[(0,i.jsx)(E,{variant:"HOWTOPLAY"}),(0,i.jsx)(V,{enterAnimationDelay:.1,exitAnimationDelay:.1}),(0,i.jsx)(P,{variant:"BACKTOTITLE",onClick:()=>e("TITLE"),enterAnimationDelay:.2,exitAnimationDelay:.2})]})})},X=(e,t)=>{if(!e)return(0,i.jsx)(c,{},"loading");switch(t){case"TITLE":return(0,i.jsx)(Q,{},"title");case"TUTORIAL":return(0,i.jsx)(Z,{},"tutorial");case"PLAY":return(0,i.jsx)(B,{},"play");case"RESULT":return(0,i.jsx)(_,{},"result")}};function $(){let{player:e}=(0,s.useContext)(r.M),{data:t}=v();return(0,i.jsx)(n.M,{mode:"wait",children:X(e,t)})}},1388:function(e,t,a){"use strict";a.d(t,{M:function(){return l},MusicProvider:function(){return c}});var i=a(7437),n=a(2265),s=a(6093);let r={0:"HAPPY",1:"NEUTRAL",2:"HAPPY",3:"NEUTRAL",4:"SAD",5:"NEUTRAL",6:"HAPPY",7:"SAD",8:"NEUTRAL",9:"HAPPY",10:"HAPPY",11:"NEUTRAL",12:"SAD",13:"SAD",14:"NEUTRAL",15:"HAPPY",16:"SAD",17:"HAPPY",18:"HAPPY",19:"NEUTRAL",20:"HAPPY",21:"NEUTRAL",22:"SAD",23:"NEUTRAL",24:"HAPPY",25:"NEUTRAL",26:"HAPPY",27:"NEUTRAL",28:"HAPPY",29:"NEUTRAL",30:"HAPPY",31:"HAPPY",32:"NEUTRAL",33:"HAPPY",34:"NEUTRAL",35:"HAPPY",36:"NEUTRAL",37:"HAPPY",38:"NEUTRAL",39:"NEUTRAL",40:"SAD",41:"HAPPY",42:"NEUTRAL",43:"SAD",44:"NEUTRAL",45:"HAPPY",46:"SAD",47:"HAPPY",48:"HAPPY",49:"NEUTRAL",50:"HAPPY",51:"NEUTRAL",52:"SAD",53:"NEUTRAL",54:"HAPPY",55:"SAD",56:"SAD",57:"SAD",58:"NEUTRAL",59:"HAPPY",60:"HAPPY",61:"NEUTRAL",62:"HAPPY",63:"NEUTRAL",64:"SAD",65:"NEUTRAL",66:"HAPPY",67:"NEUTRAL",68:"HAPPY",69:"NEUTRAL",70:"HAPPY",71:"NEUTRAL",72:"HAPPY",73:"HAPPY",74:"NEUTRAL",75:"HAPPY"},l=(0,n.createContext)({beat:void 0,emotion:"NEUTRAL",isFinish:!1,isPlay:!1,phrase:void 0,player:void 0,setBeat:void 0,setEmotion:void 0,setIsPlay:void 0,setIsFinish:void 0,setPhrase:void 0,setPlayer:void 0}),c=e=>{let{children:t}=e,[a,c]=(0,n.useState)(void 0),[o,u]=(0,n.useState)("NEUTRAL"),[x,m]=(0,n.useState)(!1),[p,d]=(0,n.useState)(!1),[y,f]=(0,n.useState)(void 0),[g,h]=(0,n.useState)(void 0),A=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=new s.J5({app:{token:"IFfHtwAMpUTKVjGN"},mediaElement:A.current});e.createFromSongUrl("https://piapro.jp/t/hZ35/20240130103028",{video:{beatId:4592293,chordId:2727635,repetitiveSegmentId:2824326,lyricId:59415,lyricDiffId:13962}}),e.addListener({onTimerReady:()=>{let t=e.video.firstPhrase,a=0;for(;t;){let e=r[a];if(t.animate=(t,a)=>{a.startTime<=t&&a.endTime-100>t&&(f(a),u(e))},null===t.next)break;t=t.next,a+=1}h(e)},onTimeUpdate:t=>{var a;e.video.findPhrase(t+100)||f(void 0),e.video.duration-2e3<=t&&m(!0),c(null!==(a=e.findBeat(t+100))&&void 0!==a?a:void 0)},onPlay:()=>d(!0),onStop:()=>d(!1)})},[]),(0,i.jsxs)(l.Provider,{value:{beat:a,emotion:o,isFinish:x,isPlay:p,phrase:y,player:g,setBeat:c,setEmotion:u,setIsFinish:m,setIsPlay:d,setPhrase:f,setPlayer:h},children:[(0,i.jsx)("div",{className:"hidden",ref:A}),t]})}}},function(e){e.O(0,[304,697,654,971,23,744],function(){return e(e.s=5170)}),_N_E=e.O()}]);