(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5170:function(e,t,a){Promise.resolve().then(a.bind(a,270))},270:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return et}});var i=a(7437),n=a(5127),s=a(2265),r=a(1388),l=a(1419),c=a(390),o=a.n(c);let u=()=>(0,i.jsxs)(l.E.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"flex h-full w-full flex-col items-center justify-center gap-[4px] bg-background-secondary",children:[(0,i.jsx)(o(),{className:"h-[64px] w-[64px] animate-spin-loading",alt:"星の画像",src:"/loading/star.png",width:64,height:64}),(0,i.jsx)(o(),{className:"h-[54px] w-[327px]",alt:"Waiting for HERO...",src:"/loading/waiting-for-hero.png",width:327,height:54})]});var x=a(9805),p=a(6164);let d=e=>{switch(e){case"HAPPY":return"/renkyun/happy.png";case"SAD":return"/renkyun/sad.png";case"NEUTRAL":return"/renkyun/neutral.png"}},m=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:n=0,exitAnimationDelay:c=0,...u}=e,{beat:m,phrase:h,emotion:y}=(0,s.useContext)(r.M),f=(0,x.E)();return(0,s.useEffect)(()=>{m&&f.start({y:[8,0]},{duration:m.duration/5e3,ease:"easeOut"})},[m]),(0,i.jsx)(l.E.div,{initial:a?{}:{opacity:0,x:24},animate:a?{}:{opacity:1,x:0,transition:{delay:n}},exit:a?{}:{opacity:0,x:24,transition:{delay:c}},transition:{duration:.2},className:(0,p.m6)("h-[1040px] w-[620px]",t),...u,children:(0,i.jsx)(l.E.div,{animate:f,className:"h-full w-full",children:(0,i.jsx)(o(),{className:"h-auto w-full",alt:"レンきゅんが歌っている画像",src:h?d(y):"/renkyun/not-singing.png",width:620,height:1040,priority:!0})})})};var h=a(932),y=a(3191),f=a(5524);let g=()=>(0,h.a)({queryKey:["judges"],initialData:[],enabled:!1}),A=()=>{let e=(0,y.NL)();return(0,f.D)({mutationFn:async()=>{await e.setQueryData(["judges"],[])}})},j=()=>{let e=(0,y.NL)();return(0,f.D)({mutationFn:async t=>{await e.setQueryData(["judges"],e=>[...e,t])}})},N=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:n=0,exitAnimationDelay:c=0,...u}=e,[d,m]=(0,s.useState)("/rinchan/default.png"),{beat:h}=(0,s.useContext)(r.M),{data:y}=g(),f=(0,x.E)();return(0,s.useEffect)(()=>{0!==y.length&&h&&f.start({y:[8,0]},{duration:h.duration/5e3,ease:"easeOut"})},[y]),(0,s.useEffect)(()=>{if(0===y.length){m("/rinchan/default.png");return}m(y[y.length-1].every(e=>!e)?"/rinchan/good.png":"/rinchan/bad.png");let e=setTimeout(()=>{m("/rinchan/default.png")},600);return()=>clearTimeout(e)},[y]),(0,i.jsx)(l.E.div,{initial:a?{}:{opacity:0,x:-24},animate:a?{}:{opacity:1,x:0,transition:{delay:n}},exit:a?{}:{opacity:0,x:-24,transition:{delay:c}},transition:{duration:.2},className:(0,p.m6)("h-[1109px] w-[620px]",t),...u,children:(0,i.jsx)(l.E.div,{animate:f,className:"h-full w-full",children:(0,i.jsx)(o(),{className:"h-auto w-full",alt:"歌を聞いてくれるリンちゃんの画像",src:d,width:620,height:1109,priority:!0})})})},E=e=>{switch(e){case"HOWTOPLAY":return{alt:"チュートリアルバナー",src:"/supar-banner/how-to-play.png"};case"PAUSE":return{alt:"ポーズバナー",src:"/supar-banner/pause.png"};case"RESULT":return{alt:"リザルトバナー",src:"/supar-banner/result.png"}}},w=e=>{let{variant:t,className:a="",animationDisable:n=!1,enterAnimationDelay:s=0,exitAnimationDelay:r=0,...c}=e,{alt:u,src:x}=E(t);return(0,i.jsx)(l.E.div,{initial:n?{}:{opacity:0,x:24},animate:n?{}:{opacity:1,x:0,transition:{delay:s}},exit:n?{}:{opacity:0,x:-24,transition:{delay:r}},transition:{duration:.2},className:(0,p.m6)("h-[115px] w-[380px]",a),...c,children:(0,i.jsx)(o(),{className:"h-auto w-full",alt:u,src:x,width:380,height:115,priority:!0})})},P=e=>{switch(e){case"START":return{alt:"スタートボタン",src:"/supar-button/start.png"};case"HOWTOPLAY":return{alt:"チュートリアルボタン",src:"/supar-button/how-to-play.png"};case"BACKTOTITLE":return{alt:"タイトルに戻るボタン",src:"/supar-button/back-to-title.png"};case"RESTART":return{alt:"リスタートボタン",src:"/supar-button/restart.png"}}},v=e=>{let{variant:t,className:a="",animationDisable:n=!1,enterAnimationDelay:s=0,exitAnimationDelay:r=0,...c}=e,{alt:u,src:x}=P(t);return(0,i.jsx)(l.E.button,{initial:n?{}:{opacity:0,x:24},animate:n?{}:{opacity:1,x:0,transition:{delay:s}},exit:n?{}:{opacity:0,x:-24,transition:{delay:r}},transition:{duration:.2},className:(0,p.m6)("h-[66px] w-[246px] cursor-pointer",a),...c,children:(0,i.jsx)(o(),{className:"h-auto w-full",alt:u,src:x,width:250,height:66,priority:!0})})},T=()=>(0,h.a)({queryKey:["screen"],initialData:"TITLE",enabled:!1}),b=()=>{let e=(0,y.NL)();return(0,f.D)({mutationFn:async t=>{await e.setQueryData(["screen"],t)}})},R=e=>{let{className:t=""}=e,{player:a,setIsPlay:n}=(0,s.useContext)(r.M),{mutate:l}=b();return(0,i.jsx)("div",{className:(0,p.m6)("flex h-full w-full flex-col items-center justify-center bg-background-pause",t),children:(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center gap-[80px]",children:[(0,i.jsx)(w,{variant:"PAUSE",animationDisable:!0}),(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center gap-[24px]",children:[(0,i.jsx)(v,{variant:"RESTART",onClick:()=>{a&&n&&(n(!0),a.requestPlay())},animationDisable:!0}),(0,i.jsx)(v,{variant:"BACKTOTITLE",onClick:()=>{a&&(a.requestStop(),a.requestMediaSeek(0),l("TITLE"))},animationDisable:!0})]})]})})},L=e=>{switch(e){case"GOOD":return{alt:"良いエフェクト",src:"/supar-effect/good.png"};case"BAD":return{alt:"悪いエフェクト",src:"/supar-effect/bad.png"}}},S=e=>{let{variant:t,className:a="",...n}=e,{alt:r,src:c}=L(t),u=(0,x.E)();return(0,s.useEffect)(()=>{u.start({opacity:[1,0],scale:[.9,1.2],transition:{ease:"easeOut",duration:.4,times:[0,1]}})},[]),(0,i.jsx)(l.E.div,{animate:u,className:(0,p.m6)("w-[80px] min-w-[80px]",a),...n,children:(0,i.jsx)(o(),{className:"h-auto w-full",alt:r,src:c,width:113.9,height:91.4})})},D={can:["wanna","gonna"],"“SUPERHERO”":["“SUPARHERO”","“SUPERHELO”","“SUPARHELO”"],時:["刻","時間"],飛ん:["翔ん","呼ん","富ん"],涙:["泣","泪"],似合わ:["相応わ","以合わ","位合わ"],alright:["arlight","alrihgt","allright"],365:["364","366","345","356"],days:["dayz","deys","day","dey"],24:["23","25","42"],name:["neme","nema"],歌っ:["詩っ","喋っ"],踊っ:["踏っ","舞っ"],肩:["型","肘","堅","脚"],long:["rong","lang","rang"],愛:["恋","愛情"],希望:["奇望","願望","期待"],思う:["思もう","想もう","感じる"],分かる:["分る","解る","和歌る"],守り:["護もり","守もり","真守り"],未来:["将来","末来","未頼"],嘘:["虚","偽"],Trust:["Trast","Tlast","Tlust"],Gimme:["Gimmi","Gemmi","Gemme"],Really:["Raelly","Realry","Rearly"],alone:["arone","aloun","aroun"],笑顔:["頬笑","微笑"],強く:["強よく","強かに"],Call:["Coll","Cale","Cole"],call:["coll","cale","cole"],雑音:["難音","騒音","喧騒"],Break:["Bleak","Braek","Blaek"],邪魔:["妨害","阻害","邪馬"],奴ら:["双ら","奴つら","奴"],Bring:["Bling"],Hang:["Heng","Hung"],Freak:["Fleak","Fleek","Freek"],Wanna:["Wonna"],Gonna:["Ganna"],辛い:["辛らい","幸い","痛い"],痛い:["苦しい","痛たい","辛い"],全て:["全べて","全部"],mate:["mete","mata","meta"],Right:["Rihgt","Light","Lihgt"],言わ:["怒ら","威張ら"],未知:["末知","不明","見知"],脅威:["驚異","脅異","恐怖"],逃げ出さ:["逃出さ","投げ出さ"],立ち向かう:["太刀向かう","立向かう","手向かう"],明日:["朝日","Earth"],Say:["Sey"],聞こえる:["聞える","効こえる","着込める"],雲:["霞","曇","霧"],Fly:["Fry","Flay","Fray"],七色:["虹色","極彩"],Beautiful:["Baeutiful","Beauteful","Beautifull","Beautyful"]},k=(e,t)=>{if(!e.isFalse||t)return e.body;{let t=D[e.body],a=Math.floor(Math.random()*t.length);return t[a]}},U=e=>{let{suparLyric:t,judgeIndex:a,setJudge:n}=e,[r,l]=(0,s.useState)(!1);return(0,i.jsxs)("div",{className:"relative h-fit w-fit",children:[(0,i.jsx)("p",{className:"relative cursor-pointer text-[32px] ".concat(r?"text-text-clicked":"text-text-clickable"),onClick:()=>{r||(l(!0),n(e=>{let t=[...e];return t[a]=!t[a],t}))},children:k(t,r)}),r&&(0,i.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center",children:(0,i.jsx)(S,{variant:t.isFalse?"GOOD":"BAD"})})]})},H=e=>{let{suparLyric:t}=e;return(0,i.jsx)("p",{className:"text-[32px]",children:t.body})},Y=e=>{let t=(0,s.useRef)(void 0);return(0,s.useEffect)(()=>{t.current=e},[e]),t.current},C=e=>{let t=[];for(let a of e.children){let e=!1,i=!1,n=!1;null===a.next||("ja"===a.language?"S"===a.pos?"!!"===a.text?e=!0:")"===a.text?e=!0:("“"===a.text||"”"===a.text)&&(i=!0):"S"!==a.pos&&"en"===a.next.language&&(e=!0):"en"===a.language&&("S"===a.next.pos?"SUPERHERO"===a.text?n=!0:["’","!!",")"].includes(a.next.text)||(e=!0):"S"!==a.next.pos&&(e=!0)));let s=n?"“SUPERHERO”":a.text,r=Object.keys(D).includes(s);i||t.push({body:s,isClickable:r,isFalse:!!r&&Math.random()>.5}),e&&t.push(void 0)}return t},O=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:n=0,exitAnimationDelay:c=0,...u}=e,[d,m]=(0,s.useState)([]),{isPlay:h,phrase:y}=(0,s.useContext)(r.M),{mutate:f}=j(),g=Y(y),A=(0,x.E)(),N=(0,s.useMemo)(()=>y?C(y):[],[y]);(0,s.useEffect)(()=>{m(N.filter(e=>!!(null==e?void 0:e.isClickable)).map(e=>e.isFalse))},[N]),(0,s.useEffect)(()=>{y&&A.start({opacity:[0,1,1,0],y:[4,0,0,4],transition:{ease:"linear",duration:y.duration/1e3-.1,times:[0,.02,.98,1]}}),g&&f(d)},[y]),(0,s.useEffect)(()=>{h||A.stop()},[h]);let E=(0,s.useMemo)(()=>{let e=0;return N.map((t,a)=>{if(!t)return(0,i.jsx)("span",{className:"inline-block w-2"},a);if(!t.isClickable)return(0,i.jsx)(H,{suparLyric:t},a);{let n=e;return e+=1,(0,i.jsx)(U,{suparLyric:t,judgeIndex:n,setJudge:m},a)}})},[N]);return(0,i.jsxs)(l.E.div,{initial:a?{}:{opacity:0,x:24},animate:a?{}:{opacity:1,x:0,transition:{delay:n}},exit:a?{}:{opacity:0,x:24,transition:{delay:c}},transition:{duration:.2},className:(0,p.m6)("relative h-[240px] min-h-[240px] w-full px-[32px] pb-[12px] pt-[58px]",t),...u,children:[(0,i.jsx)(o(),{className:"absolute bottom-0 left-0 h-[240px] w-full",alt:"歌詞ボード",src:"/play/lyric-board.png",width:497.5,height:242}),(0,i.jsx)(l.E.div,{animate:A,className:"relative flex flex-row flex-wrap items-start",children:E})]})},M=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:n=0,exitAnimationDelay:c=0,...u}=e,{player:x,setIsPlay:d}=(0,s.useContext)(r.M);return(0,i.jsx)(l.E.button,{initial:a?{}:{opacity:0,y:-24},animate:a?{}:{opacity:1,y:0,transition:{delay:n}},exit:a?{}:{opacity:0,y:-24,transition:{delay:c}},transition:{duration:.2},className:(0,p.m6)("flex h-[56px] w-[56px] cursor-pointer items-center justify-center",t),onClick:()=>{x&&d&&(d(!1),x.requestPause())},...u,children:(0,i.jsx)(o(),{className:"h-auto w-full",alt:"ポーズボタン",src:"/play/pause-button.png",width:68.5,height:67.5})})},B=e=>{let{className:t=""}=e,{data:a}=g(),n=(0,x.E)();return(0,s.useEffect)(()=>{0!==a.length&&n.start({opacity:[0,1,1,0],y:[16,0,0,16],transition:{ease:"linear",duration:.5,times:[0,.2,.9,1]}})},[a]),(0,i.jsx)(i.Fragment,{children:0!==a.length&&(0,i.jsx)(l.E.div,{animate:n,className:(0,p.m6)("h-[102px] w-[104px]",t),children:a[a.length-1].every(e=>!e)?(0,i.jsx)(o(),{className:"h-auto w-full",alt:"良い反応",src:"/supar-reaction/good.png",width:124.7,height:122.5}):(0,i.jsx)(o(),{className:"h-auto w-full",alt:"悪い反応",src:"/supar-reaction/bad.png",width:124.7,height:122.5})})})},F=()=>{let[e,t]=(0,s.useState)(!0),{player:a,isFinish:n,isPlay:l}=(0,s.useContext)(r.M),{mutate:c}=b();return(0,s.useEffect)(()=>{if(a){let e=setTimeout(()=>{t(!1),a.requestPlay()},1e3);return()=>clearTimeout(e)}},[a]),(0,s.useEffect)(()=>{a&&n&&c("RESULT")},[n]),(0,i.jsxs)("div",{className:"relative flex h-full w-full flex-col items-center justify-end",children:[!l&&!e&&(0,i.jsx)(R,{className:"absolute left-0 top-0 z-20"}),(0,i.jsx)(M,{className:"absolute right-3 top-3 z-10",animationDisable:!l,exitAnimationDelay:.3},"supar-pause-button"),(0,i.jsx)(B,{className:"absolute bottom-[496px] left-[24%] z-10"}),(0,i.jsx)(N,{className:"absolute -left-[14%] bottom-[148px] h-auto w-[275px]",animationDisable:!l,enterAnimationDelay:.2,exitAnimationDelay:.1},"rinchan-listening-image"),(0,i.jsx)(m,{className:"absolute -right-[12%] bottom-[148px] h-auto w-[275px]",animationDisable:!l,enterAnimationDelay:.3},"renkyun-singing-image"),(0,i.jsx)(O,{animationDisable:!l,enterAnimationDelay:.1,exitAnimationDelay:.2},"supar-lyric-board")]})},I=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:n=0,exitAnimationDelay:s=0,...r}=e;return(0,i.jsx)(l.E.div,{initial:a?{}:{opacity:0,x:24},animate:a?{}:{opacity:1,x:0,transition:{delay:n}},exit:a?{}:{opacity:0,x:-24,transition:{delay:s}},transition:{duration:.2},className:(0,p.m6)("h-[1040px] w-[620px]",t),...r,children:(0,i.jsx)(o(),{className:"h-auto w-full",alt:"レンきゅんが褒めてくれる画像",src:"/renkyun/happy.png",width:620,height:1040})})},q=e=>{switch(e){case"C":return{alt:"まだまだ!!",src:"/supar-comment/comment-c.png"};case"B":return{alt:"いい感じ!!",src:"/supar-comment/comment-b.png"};case"A":return{alt:"すごいっ!!",src:"/supar-comment/comment-a.png"};case"S":return{alt:"えらいっ!!",src:"/supar-comment/comment-s.png"}}},G=e=>{let{rank:t,className:a="",animationDisable:n=!1,enterAnimationDelay:s=0,exitAnimationDelay:r=0,...c}=e,{alt:u,src:x}=q(t);return(0,i.jsx)(l.E.div,{initial:n?{}:{opacity:0,scale:.5,y:40},animate:n?{}:{opacity:1,scale:1,y:0,transition:{delay:s}},exit:n?{}:{opacity:0,x:-24,transition:{delay:r}},transition:{duration:.2},className:(0,p.m6)("h-[150px] w-[200px]",a),...c,children:(0,i.jsx)(o(),{className:"h-auto w-full",alt:u,src:x,width:248.9,height:183.7})})},K=e=>{switch(e){case"C":return{alt:"ランクC",src:"/supar-rank/rank-c.png"};case"B":return{alt:"ランクB",src:"/supar-rank/rank-b.png"};case"A":return{alt:"ランクA",src:"/supar-rank/rank-a.png"};case"S":return{alt:"ランクS",src:"/supar-rank/rank-s.png"}}},W=e=>{let{rank:t,className:a="",animationDisable:n=!1,enterAnimationDelay:s=0,exitAnimationDelay:r=0,...c}=e,{alt:u,src:x}=K(t);return(0,i.jsx)(l.E.div,{initial:n?{}:{opacity:0,scale:1.5},animate:n?{}:{opacity:1,scale:1,transition:{delay:s}},exit:n?{}:{opacity:0,transition:{delay:r}},transition:{duration:.2},className:(0,p.m6)("h-[106px] w-[113px]",a),...c,children:(0,i.jsx)(o(),{className:"h-auto w-full",alt:u,src:x,width:208.7,height:195.4,priority:!0})})},_=e=>e<50?"C":e<75?"B":e<90?"A":"S",z=e=>{let{accuracy:t,className:a="",animationDisable:s=!1,enterAnimationDelay:r=0,exitAnimationDelay:c=0,...u}=e;return(0,i.jsxs)(l.E.div,{initial:s?{}:{opacity:0,x:24},animate:s?{}:{opacity:1,x:0,transition:{delay:r}},exit:s?{}:{opacity:0,x:-24,transition:{delay:c}},transition:{duration:.2},className:(0,p.m6)("relative flex h-[171px] w-[326px] flex-row items-center",a),...u,children:[(0,i.jsx)(o(),{className:"absolute h-auto w-full",alt:"スコアボード",src:"/result/score-board.png",width:327,height:171}),(0,i.jsxs)("div",{className:"relative flex h-full w-full flex-row justify-center",children:[(0,i.jsx)("p",{className:"absolute left-[38px] top-[68px] text-[32px]",children:"".concat(t,"%")}),(0,i.jsx)(n.M,{children:(0,i.jsx)(W,{rank:_(t),className:"absolute left-[188px] top-[54px]",enterAnimationDelay:r+.3})})]})]})},Q=()=>{let{player:e,setIsPlay:t}=(0,s.useContext)(r.M),{data:a}=g(),{mutate:n}=b();(0,s.useEffect)(()=>{e&&t&&(e.requestStop(),t(!1))},[]);let l=(0,s.useMemo)(()=>{if(0===a.length)return 0;{let e=a.flat();return Math.round(e.filter(e=>!e).length/e.length*1e3)/10}},[a]);return(0,i.jsx)("div",{className:"relative flex h-full items-center justify-center overflow-hidden",children:(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center gap-[8px]",children:[(0,i.jsx)(w,{variant:"RESULT"}),(0,i.jsx)(z,{accuracy:l,enterAnimationDelay:.1,exitAnimationDelay:.1}),(0,i.jsx)(v,{className:"mt-[16px]",variant:"BACKTOTITLE",onClick:()=>{n("TITLE")},enterAnimationDelay:.2,exitAnimationDelay:.2}),(0,i.jsxs)("div",{className:"relative h-[280px] w-full",children:[(0,i.jsx)(G,{rank:_(l),className:"absolute left-[12px] top-[48px]",enterAnimationDelay:.8,exitAnimationDelay:.3}),(0,i.jsx)(I,{className:"absolute -right-[8%] top-0 h-auto w-[240px]",enterAnimationDelay:.3,exitAnimationDelay:.3})]})]})})},J=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:n=0,exitAnimationDelay:s=0,...r}=e;return(0,i.jsx)(l.E.div,{initial:a?{}:{opacity:0,scale:.5,y:80},animate:a?{}:{opacity:1,scale:1,y:0,transition:{delay:n}},exit:a?{}:{opacity:0,transition:{delay:s}},transition:{duration:.2},className:(0,p.m6)("max-w-full",t),...r,children:(0,i.jsx)(o(),{className:"h-auto w-full",alt:"SUPAEHEROのタイトルロゴ",src:"/title/suparhero-logo.png",width:432,height:254.5,priority:!0})})},V=()=>{let{player:e,setBeat:t,setIsFinish:a,setIsPlay:n,setPhrase:l}=(0,s.useContext)(r.M),{mutate:c}=A(),{mutate:o}=b();return(0,i.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,i.jsxs)("div",{className:"flex flex-col items-center gap-[100px]",children:[(0,i.jsx)(J,{}),(0,i.jsxs)("div",{className:"flex flex-col items-center gap-[16px]",children:[(0,i.jsx)(v,{variant:"START",onClick:()=>{e&&t&&a&&n&&l&&(e.requestMediaSeek(0),t(void 0),l(void 0),a(!1),n(!0)),c(),o("PLAY")},enterAnimationDelay:.3,exitAnimationDelay:.1}),(0,i.jsx)(v,{variant:"HOWTOPLAY",onClick:()=>o("TUTORIAL"),enterAnimationDelay:.4,exitAnimationDelay:.2})]})]})})},Z=[{src:"/tutorial/page-1.png",description:(0,i.jsxs)(i.Fragment,{children:["何の影響か突然「SUPERHEROになる!!」と言って、その決意を歌にすることにしたレンくん...",(0,i.jsx)("br",{}),"その歌をリンちゃんに聞いてもらおうとしているけれど、いくつか歌詞を間違えちゃってる!!"]})},{src:"/tutorial/page-2.png",description:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"text-[14px] text-text-clickable",children:"赤色"}),"になっている歌詞が出てきたら、間違っていないかチェックしてあげよう!!",(0,i.jsx)("br",{}),"もし間違っていたら歌詞をタップして、リンちゃんに気づかれる前にこっそり直してあげよう!!"]})},{src:"/tutorial/page-3.png",description:(0,i.jsx)(i.Fragment,{children:"正しい歌詞をうっかりタップしたり、間違えている歌詞をそのままスルーしたりしないように気をつけてね!!"})}],X=e=>{let{className:t="",animationDisable:a=!1,enterAnimationDelay:r=0,exitAnimationDelay:c=0,...u}=e,[x,d]=(0,s.useState)(0),[m,h]=(0,s.useState)(0);return(0,i.jsxs)(l.E.div,{initial:a?{}:{opacity:0,x:24},animate:a?{}:{opacity:1,x:0,transition:{delay:r}},exit:a?{}:{opacity:0,x:-48,transition:{delay:c}},transition:{duration:.2},className:(0,p.m6)("flex w-full flex-col items-center justify-center",t),...u,children:[(0,i.jsxs)("div",{className:"flex w-full flex-row items-center justify-center gap-[24px]",children:[0!==x?(0,i.jsx)(o(),{className:"h-[74px] w-[48px] cursor-pointer",alt:"前のページへ",src:"/tutorial/left-arrow.png",width:48,height:74,onClick:()=>{h(-1),d(e=>e-1)}}):(0,i.jsx)("span",{className:"w-[48px]"}),(0,i.jsx)(n.M,{mode:"wait",children:(0,i.jsx)(l.E.div,{initial:{opacity:0,x:24*m},animate:{opacity:1,x:0},exit:{opacity:0,x:-(24*m)},transition:{duration:.1},className:"flex border-[4px] border-border-secondary bg-background-secondary p-[2px]",children:(0,i.jsx)(o(),{className:"h-[288px] w-[200px]",alt:"チュートリアルの画像",src:Z[x].src,width:200,height:288,priority:!0})},x)}),x!==Z.length-1?(0,i.jsx)(o(),{className:"h-[74px] w-[48px] cursor-pointer",alt:"次のページへ",src:"/tutorial/right-arrow.png",width:48,height:74,onClick:()=>{h(1),d(e=>e+1)}}):(0,i.jsx)("span",{className:"w-[48px]"})]}),(0,i.jsxs)("div",{className:"relative mb-[16px] mt-[8px] flex h-[112px] w-[368px] items-center justify-center",children:[(0,i.jsx)(o(),{className:"absolute h-auto w-full",alt:"説明ボード",src:"/tutorial/description-board.png",width:380,height:117}),(0,i.jsx)(n.M,{mode:"wait",children:(0,i.jsx)(l.E.div,{initial:{opacity:0,x:8*m},animate:{opacity:1,x:0},exit:{opacity:0,x:-(8*m)},transition:{duration:.1},className:"relative flex h-full w-full items-start justify-start",children:(0,i.jsx)("p",{className:"mx-[20px] my-[14px] text-[14px] text-text-tertiary",children:Z[x].description})},x)})]})]})},$=()=>{let{mutate:e}=b();return(0,i.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,i.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center",children:[(0,i.jsx)(w,{variant:"HOWTOPLAY"}),(0,i.jsx)(X,{enterAnimationDelay:.1,exitAnimationDelay:.1}),(0,i.jsx)(v,{variant:"BACKTOTITLE",onClick:()=>e("TITLE"),enterAnimationDelay:.2,exitAnimationDelay:.2})]})})},ee=(e,t)=>{if(!e)return(0,i.jsx)(u,{},"loading");switch(t){case"TITLE":return(0,i.jsx)(V,{},"title");case"TUTORIAL":return(0,i.jsx)($,{},"tutorial");case"PLAY":return(0,i.jsx)(F,{},"play");case"RESULT":return(0,i.jsx)(Q,{},"result")}};function et(){let{player:e}=(0,s.useContext)(r.M),{data:t}=T();return(0,i.jsx)(n.M,{mode:"wait",children:ee(e,t)})}},1388:function(e,t,a){"use strict";a.d(t,{M:function(){return l},MusicProvider:function(){return c}});var i=a(7437),n=a(2265),s=a(6093);let r={0:"HAPPY",1:"NEUTRAL",2:"HAPPY",3:"NEUTRAL",4:"SAD",5:"NEUTRAL",6:"HAPPY",7:"SAD",8:"NEUTRAL",9:"HAPPY",10:"HAPPY",11:"NEUTRAL",12:"SAD",13:"SAD",14:"NEUTRAL",15:"HAPPY",16:"SAD",17:"HAPPY",18:"HAPPY",19:"NEUTRAL",20:"HAPPY",21:"NEUTRAL",22:"SAD",23:"NEUTRAL",24:"HAPPY",25:"NEUTRAL",26:"HAPPY",27:"NEUTRAL",28:"HAPPY",29:"NEUTRAL",30:"HAPPY",31:"HAPPY",32:"NEUTRAL",33:"HAPPY",34:"NEUTRAL",35:"HAPPY",36:"NEUTRAL",37:"HAPPY",38:"NEUTRAL",39:"NEUTRAL",40:"SAD",41:"HAPPY",42:"NEUTRAL",43:"SAD",44:"NEUTRAL",45:"HAPPY",46:"SAD",47:"HAPPY",48:"HAPPY",49:"NEUTRAL",50:"HAPPY",51:"NEUTRAL",52:"SAD",53:"NEUTRAL",54:"HAPPY",55:"SAD",56:"SAD",57:"SAD",58:"NEUTRAL",59:"HAPPY",60:"HAPPY",61:"NEUTRAL",62:"HAPPY",63:"NEUTRAL",64:"SAD",65:"NEUTRAL",66:"HAPPY",67:"NEUTRAL",68:"HAPPY",69:"NEUTRAL",70:"HAPPY",71:"NEUTRAL",72:"HAPPY",73:"HAPPY",74:"NEUTRAL",75:"HAPPY"},l=(0,n.createContext)({beat:void 0,emotion:"NEUTRAL",isFinish:!1,isPlay:!1,phrase:void 0,player:void 0,setBeat:void 0,setEmotion:void 0,setIsPlay:void 0,setIsFinish:void 0,setPhrase:void 0,setPlayer:void 0}),c=e=>{let{children:t}=e,[a,c]=(0,n.useState)(void 0),[o,u]=(0,n.useState)("NEUTRAL"),[x,p]=(0,n.useState)(!1),[d,m]=(0,n.useState)(!1),[h,y]=(0,n.useState)(void 0),[f,g]=(0,n.useState)(void 0),A=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=new s.J5({app:{token:"IFfHtwAMpUTKVjGN"},mediaElement:A.current});e.createFromSongUrl("https://piapro.jp/t/hZ35/20240130103028",{video:{beatId:4592293,chordId:2727635,repetitiveSegmentId:2824326,lyricId:59415,lyricDiffId:13962}}),e.addListener({onTimerReady:()=>{let t=e.video.firstPhrase,a=0;for(;t;){let e=r[a];if(t.animate=(t,a)=>{a.startTime<=t&&a.endTime-100>t&&(y(a),u(e))},null===t.next)break;t=t.next,a+=1}g(e)},onTimeUpdate:t=>{var a;e.video.findPhrase(t+100)||y(void 0),e.video.duration-2e3<=t&&p(!0),c(null!==(a=e.findBeat(t+100))&&void 0!==a?a:void 0)},onPlay:()=>m(!0),onStop:()=>m(!1)})},[]),(0,i.jsxs)(l.Provider,{value:{beat:a,emotion:o,isFinish:x,isPlay:d,phrase:h,player:f,setBeat:c,setEmotion:u,setIsFinish:p,setIsPlay:m,setPhrase:y,setPlayer:g},children:[(0,i.jsx)("div",{className:"hidden",ref:A}),t]})}}},function(e){e.O(0,[304,697,906,971,23,744],function(){return e(e.s=5170)}),_N_E=e.O()}]);